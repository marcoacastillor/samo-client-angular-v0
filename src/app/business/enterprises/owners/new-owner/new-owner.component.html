<app-card caption="Gestión de información de empresa">
    <main>
        <h5>Creación de empresa proveedora</h5>
        <div class="alert alert-info" role="alert">En éste formulario solo se permite crear empresas de tipo proveedoras de productos y servicios.</div>
        <form [formGroup]="enterpriseForm">
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="nit">Nit</label>
                        <input type="text" class="form-control text-small" placeholder="nit" formControlName="nit" required>
                        <small *ngIf="mustShowError('nit')" class="form-text alert-danger">
                        Nit es obligatorio
                        </small>
                    </div>
                </div> 
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <input type="text" class="form-control text-small" placeholder="name" formControlName="name" required>
                        <small *ngIf="mustShowError('name')" class="form-text alert-danger">
                        Nombre es obligatorio
                        </small>
                    </div>
                </div> 
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="address">Dirección</label>
                        <input type="text" class="form-control text-small" placeholder="dirección" formControlName="address" required>
                        <small *ngIf="mustShowError('address')" class="form-text alert-danger">
                        Dirección es obligatorio
                        </small>
                    </div>
                </div> 
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="phone">Teléfono</label>
                        <input type="text" class="form-control text-small" placeholder="teléfono" formControlName="phone" required>
                        <small *ngIf="mustShowError('phone')" class="form-text alert-danger">
                        Teléfono es obligatorio
                        </small>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="ubication_city">Ubicación - ciudad</label>
                        <input type="text" class="form-control text-small" placeholder="ubicación" formControlName="ubication_city" required>
                        <small *ngIf="mustShowError('ubication_city')" class="form-text alert-danger">
                            Ubicación de la empresa
                        </small>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="size">Tamaño empresa</label>
                        <select class="form-control form-control-sm text-small" formControlName="size" required>
                            <option value="{{ param.name }}" *ngFor="let param of sizesList">{{ param.name }}</option>
                        </select>
                        <small *ngIf="mustShowError('size')" class="form-text alert-danger">
                        Tamaño de empresa es obligatorio
                        </small>
                    </div>
                </div> 
            </div>

            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="regimen">Régimen</label>
                        <input type="text" class="form-control text-small" placeholder="teléfono" formControlName="regimen" required>
                        <small *ngIf="mustShowError('regimen')" class="form-text alert-danger">
                            Régimen es obligatorio
                        </small>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="DIAN_billing_resolution">Resolución de facturación de la DIAN</label>
                        <input type="text" class="form-control text-small" placeholder="Resolución facturación de la DIAN" formControlName="DIAN_billing_resolution" required>
                        <small *ngIf="mustShowError('DIAN_billing_resolution')" class="form-text alert-danger">
                            Ubicación de la empresa
                        </small>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="footer_billing">footer_billing</label>
                        <input type="text" class="form-control text-small" placeholder="Pie de factura" formControlName="footer_billing" required>
                        <small *ngIf="mustShowError('footer_billing')" class="form-text alert-danger">
                        Tamaño de empresa es obligatorio
                        </small>
                    </div>
                </div> 
            </div>
            
        </form>
    </main>
    <footer>
        <button *ngIf="!enterpriseForm.value.pk_id_enterprise" type="submit" class="btn btn-outline-primary btn-sm mb-2 mr-1" [disabled]="enterpriseForm.invalid" (click)="createRegistry()">Guardar</button>
        <button *ngIf="enterpriseForm.value.pk_id_enterprise" type="submit" class="btn btn-outline-success btn-sm mb-2 mr-1" [disabled]="enterpriseForm.invalid" (click)="updateRegistry()">Actualizar</button>
    </footer>
</app-card>      